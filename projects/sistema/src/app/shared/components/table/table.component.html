<div class="container">
    <table mat-table [dataSource]="dataSource">
        <ng-container [matColumnDef]="record.field" *ngFor="let record of metaColumns">
            <th mat-header-cell *matHeaderCellDef>{{record.title}}</th>
            <td mat-cell *matCellDef="let row">{{row[record.field]}}</td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="listFields; sticky: true"></tr>

        <tr mat-row *matRowDef="let row; columns: listFields" class="highline"
            [ngClass]="{highlineMarked: row['marked']}" (click)="selectRow(row)"></tr>
    </table>
</div>